<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Prueba de Seguimiento</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
 <!-- Credenciales del proyecto Inicia-->
    
<script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCpZKag3FqijxU5ry7C-K7QnV41EamZt-Y",
    authDomain: "controlcasa-9eaaf.firebaseapp.com",
    databaseURL: "https://controlcasa-9eaaf.firebaseio.com",
    projectId: "controlcasa-9eaaf",
    storageBucket: "controlcasa-9eaaf.appspot.com",
    messagingSenderId: "397589381169"
  };
  firebase.initializeApp(config);
</script>
    <!-- Credenciales del proyecto Final-->
    </head>
  <body>
<br>
<br>
<br>
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-success">
          <div class="panel-heading">Firebase Led</div>
          <div class="panel-body">
             <div class="checkbox">
               <label>
                <input type="checkbox" id="checkLed1">Electro Bomba
              </label>

              <div class="checkbox">
               <label>
                <input type="checkbox" id="checkLed2">Iluminacion Exterior
              </label>
              <div class="checkbox">
                <label>
                 <input type="checkbox" id="checkLed3">Iluminacion Interior
               </label>

             </div>
          </div>
        </div>      
      </div>
    </div>
  </div>
  <script>

  //Esqueleto de la BD para crear en la base de datos
 /*var db = firebase.database().ref('home').set({
    led1:true,
    led2:true,
    led3:true
  }); */

var db = firebase.database().ref('home');
// Ãºltimo estado
db.on('value', function(data){
   console.log("data: ", data.val());
   $("#checkLed1").prop('checked', data.val().led1);
   $("#checkLed2").prop('checked', data.val().led2);
   $("#checkLed3").prop('checked', data.val().led3);
});
$("#checkLed1").click(function(){
  var estado = $(this).is(':checked');
  db.update({
    led1:estado
  });
});
$("#checkLed2").click(function(){
  var estado = $(this).is(':checked');
  db.update({
    led2:estado
  });
});
$("#checkLed3").click(function(){
  var estado = $(this).is(':checked');
  db.update({
    led3:estado
  });
});
  </script>

  </body>
</html>